<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <div>Camara</div>
    <script src="webcam.js"></script>

    <div id="my_camera" style="width:320px; height:240px;"></div>
    <div id="my_result"></div>

    <script language="JavaScript">
        Webcam.attach('#my_camera');

        function take_snapshot() {
            Webcam.snap(function (data_uri) {
                document.getElementById('my_result').innerHTML = '<img src="' + data_uri + '"/>';

                Webcam.upload( data_uri, '/api/v1/classify/image', function(code, text) {
                    console.log("Upload complete");
                    console.log(code);
                    console.log(text);
                    // Upload complete!
                    // 'code' will be the HTTP response code from the server, e.g. 200
                    // 'text' will be the raw response content
                } );
            });
        }

        function take_snapshot_tf() {
            Webcam.snap(function (data_uri) {
                document.getElementById('my_result').innerHTML = '<img src="' + data_uri + '"/>';

                Webcam.upload( data_uri, '/api/v1/classify/detect', function(code, text) {
                    console.log("Upload complete");
                    console.log(code);
                    console.log(text);
                    // Upload complete!
                    // 'code' will be the HTTP response code from the server, e.g. 200
                    // 'text' will be the raw response content
                } );
            });
        }
    </script>

    <a href="javascript:void(take_snapshot())">Take Snapshot</a>
    <br>
    <br>
    <a href="javascript:void(take_snapshot_tf())">Take Snapshot TF</a>
    <script src=https://assistant-web.watsonplatform.net/loadWatsonAssistantChat.js></script>
    <script>
    window.loadWatsonAssistantChat({
        integrationID: "626ceb7f-0b18-4579-9695-b3bf78e842c8", // The ID of this integration.
        region: "us-south" // The region your integration is hosted in.
    }).then(function(instance){
        instance.render();
    });
    </script>
</body>

</html>